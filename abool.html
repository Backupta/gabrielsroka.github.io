aBool: <input id=aBool type=checkbox><br><br>
<button id=saveUser>Save</button><br><br>
<div id=result></div>
<script>
// For this to work, enable CORS in Okta: Security > API > Trusted Origins > Add Origin > CORS.
const url = 'https://gsroka-neto.oktapreview.com/api/v1/users/me';

onload = () => request('get');
saveUser.onclick = () => request('post', {profile: {aBool: aBool.checked}});

async function request(method, body) {
    const opts = {credentials: 'include', method}; // enable CORS
    if (body) {
        opts.body = JSON.stringify(body);
        opts.headers = {'content-type': 'application/json'};
    }
    const response = await fetch(url, opts);
    if (response.ok) {
        const user = await response.json();
        aBool.checked = user.profile.aBool;
        result.innerHTML = 'aBool = ' + user.profile.aBool;
    } else {
        const error = await response.json();
        result.innerHTML = 'error = ' + error.errorSummary;
    }
}
</script>
