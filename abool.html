aBool: <input id=aBool type=checkbox><br>
<button id=saveUser type=submit>Save</button>
<script>
// For this to work, enable CORS in Okta: Security > API > Trusted Origins > Add Origin > CORS.
const baseUrl = 'https://gsroka-neto.oktapreview.com';

const opts = {
    credentials: 'include',
    headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json'
    }
};

onload = async () => {
    const response = await fetch(baseUrl + '/api/v1/users/me', opts);
    const user = await response.json();
    aBool.checked = user.profile.aBool;
};

saveUser.onclick = async (event) => {
    event.preventDefault();
    opts.body = JSON.stringify({profile: {aBool: aBool.checked}});
    opts.method = 'post';
    const response = await fetch(baseUrl + '/api/v1/users/me', opts);
    const user = await response.json();
    alert('aBool = ' + user.profile.aBool);
};
</script>
