aBool: <input id=aBool type=checkbox><br>
<button id=saveUser disabled=true>Save</button>
<script>
// For this to work, enable CORS in Okta: Security > API > Trusted Origins > Add Origin > CORS.
const baseUrl = 'https://gsroka-neto.oktapreview.com';

const opts = {
    credentials: 'include',
    headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json'
    }
};

onload = async () => {
    const response = await fetch(baseUrl + '/api/v1/users/me', opts);
    const user = await response.json();
    if (response.ok) {
        aBool.checked = user.profile.aBool;
        saveUser.disabled = false;
    } else {
        alert('error = ' + user.errorSummary);
    }
};

saveUser.onclick = async () => {
    opts.body = JSON.stringify({profile: {aBool: aBool.checked}});
    opts.method = 'post'; // partial update (as opposed to 'put'). see docs for more info.
    const response = await fetch(baseUrl + '/api/v1/users/me', opts);
    const user = await response.json();
    if (response.ok) {
        alert('aBool = ' + user.profile.aBool);
    } else {
        alert('error = ' + user.errorSummary);
    }
};
</script>
